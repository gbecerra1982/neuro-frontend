{
  "name": "neuro-rag-semantic-skillset",
  "description": "Skillset for semantic chunking of oil well documents with Document Layout",
  "skills": [
    {
      "@odata.type": "#Microsoft.Skills.Util.DocumentIntelligenceLayoutSkill",
      "name": "document_layout_analysis",
      "description": "Extract document structure and create semantic chunks",
      "context": "/document",
      "outputMode": "oneToMany",
      "markdownHeaderDepth": "h3",
      "inputs": [
        {
          "name": "file_data",
          "source": "/document/file_data"
        }
      ],
      "outputs": [
        {
          "name": "layoutText",
          "targetName": "structured_content"
        }
      ]
    },
    {
      "@odata.type": "#Microsoft.Skills.Text.SplitSkill",
      "name": "semantic_text_split",
      "description": "Split content into semantic chunks",
      "context": "/document/structured_content/*",
      "textSplitMode": "pages",
      "maximumPageLength": 1000,
      "pageOverlapLength": 200,
      "maximumPagesToTake": 500,
      "inputs": [
        {
          "name": "text",
          "source": "/document/structured_content/*/content"
        }
      ],
      "outputs": [
        {
          "name": "textItems",
          "targetName": "chunks"
        }
      ]
    },
    {
      "@odata.type": "#Microsoft.Skills.Text.AzureOpenAIEmbeddingSkill",
      "name": "vectorization",
      "description": "Generate embeddings for each chunk",
      "context": "/document/structured_content/*/chunks/*",
      "resourceUri": "https://your-openai-resource.openai.azure.com",
      "apiKey": "your-api-key",
      "deploymentId": "text-embedding-ada-002",
      "dimensions": 1536,
      "inputs": [
        {
          "name": "text",
          "source": "/document/structured_content/*/chunks/*"
        }
      ],
      "outputs": [
        {
          "name": "embedding",
          "targetName": "text_vector"
        }
      ]
    },
    {
      "@odata.type": "#Microsoft.Skills.Util.ConditionalSkill",
      "name": "extract_metadata",
      "description": "Extract well, equipment, and date metadata",
      "context": "/document",
      "inputs": [
        {
          "name": "condition",
          "source": "= true"
        },
        {
          "name": "whenTrue",
          "source": "/document/metadata"
        },
        {
          "name": "whenFalse",
          "source": "= null"
        }
      ],
      "outputs": [
        {
          "name": "output",
          "targetName": "extracted_metadata"
        }
      ]
    }
  ],
  "cognitiveServices": {
    "@odata.type": "#Microsoft.Azure.Search.CognitiveServicesByKey",
    "key": "your-cognitive-services-key"
  }
}